<!--app/views/products/_product.html.erb-->
<div class="card h-100">
  <% if product.image.attached? %>
    <%= image_tag(product.image, class: "card-img-top") %>
  <% end %>
  <div class="card-body d-flex flex-column">
    <h5 class="card-title"><%= link_to product.product_name, product_path(product) %></h5>
    <p class="card-text mt-auto">
      <strong>Price:</strong> <%= number_to_currency(product.price) %>
    </p>
    <%= form_with url: add_to_cart_product_path(product), method: :post, local: true do |form| %>
      <div class="mt-2">
        <%= form.label :quantity, "Quantity", class: "form-label" %>
        <%= form.number_field :quantity, in: 1..5000, value: 1, class: "form-control" %>
      </div>
      <div class="mt-2">
        <%= form.submit 'Add to Cart', class: 'btn btn-primary btn-block' %>
      </div>
    <% end %>
  </div>
</div>
